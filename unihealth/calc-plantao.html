<!doctype html>
<html lang="pt-BR">
<head>
  <meta charset="utf-8">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=5, user-scalable=yes">
  <meta name="mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">

  <title>Calculadora Variabilidade Plant√µes | AxiaCare¬Æ</title>
  <meta name="description" content="Sistema profissional de an√°lise preditiva or√ßament√°ria de plant√µes m√©dicos com modelagem estat√≠stica de variabilidade.">
  <meta name="theme-color" content="#196396">

  <meta property="og:title" content="Calculadora Variabilidade Plant√µes | AxiaCare¬Æ">
  <meta property="og:description" content="Sistema profissional de an√°lise preditiva or√ßament√°ria de plant√µes m√©dicos com modelagem estat√≠stica de variabilidade.">
  <meta property="og:type" content="website">
  <meta property="og:locale" content="pt_BR">

  <link rel="icon" href="https://axcare.com.br/favicon.ico">

  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/hammerjs@2.0.8"></script>
  <script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-zoom@2.0.1/dist/chartjs-plugin-zoom.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.8.2/jspdf.plugin.autotable.min.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800;900&display=swap" rel="stylesheet">

  <style>
    :root {
      --ax-primary: #196396;
      --ax-primary-light: #2b7ab8;
      --ax-primary-dark: #0f4764;
      --ax-mint: #a6d8c0;
      --ax-cream: #f8f5f0;
      --ax-border: #e5e7eb;
      --ax-ok: #065f46;
      --ax-ok-light: #10b981;
      --ax-warn: #b91c1c;
      --ax-warn-light: #ef4444;
      --ax-shadow: 0 10px 30px rgba(0,0,0,.08);
      --ax-shadow-lg: 0 20px 40px rgba(0,0,0,.12);

      --serie1: #196396;
      --serie1-bg: rgba(25, 99, 150, 0.1);
      --serie2: #10b981;
      --serie2-bg: rgba(16, 185, 129, 0.1);
      --serie3: #ff8f00;
      --serie3-bg: rgba(255, 143, 0, 0.1);

      --bg-primary: #ffffff;
      --bg-secondary: #f8fafc;
      --bg-tertiary: #f1f5f9;
      --text-primary: #0f172a;
      --text-secondary: #475569;
      --text-tertiary: #64748b;
      --border-color: #e2e8f0;

      --transition-fast: 150ms ease;
      --transition-normal: 250ms ease;
    }

    [data-theme="dark"] {
      --ax-primary: #3b9dd8;
      --ax-primary-light: #5bb2e8;
      --ax-border: #374151;
      --ax-shadow: 0 10px 30px rgba(0,0,0,.3);
      --ax-shadow-lg: 0 20px 40px rgba(0,0,0,.4);

      --bg-primary: #1e293b;
      --bg-secondary: #0f172a;
      --bg-tertiary: #1e293b;
      --text-primary: #f1f5f9;
      --text-secondary: #cbd5e1;
      --text-tertiary: #94a3b8;
      --border-color: #334155;

      --ax-ok: #34d399;
      --ax-ok-light: #6ee7b7;
      --ax-warn: #f87171;
      --ax-warn-light: #fca5a5;

      --serie1-bg: rgba(59, 157, 216, 0.15);
      --serie2-bg: rgba(16, 185, 129, 0.15);
      --serie3-bg: rgba(255, 143, 0, 0.15);
    }

    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html, body {
      height: 100%;
      scroll-behavior: smooth;
      -webkit-overflow-scrolling: touch;
      overflow-x: hidden;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      color: var(--text-primary);
      background: var(--bg-secondary);
      line-height: 1.6;
      transition: background var(--transition-normal), color var(--transition-normal);
      -webkit-tap-highlight-color: transparent;
    }

    /* Header */
    .hero {
      position: sticky;
      top: 0;
      z-index: 1000;
      background: var(--bg-primary);
      backdrop-filter: blur(12px) saturate(150%);
      border-bottom: 1px solid var(--border-color);
      transition: box-shadow var(--transition-normal), background var(--transition-normal);
    }

    .hero.scrolled {
      box-shadow: var(--ax-shadow);
    }

    .hero-inner {
      max-width: 1400px;
      margin: 0 auto;
      padding: 16px 24px;
      display: grid;
      grid-template-columns: auto 1fr auto;
      align-items: center;
      gap: 24px;
    }

    .brand-container {
      display: flex;
      align-items: center;
      gap: 16px;
    }

    .brand-link {
      display: flex;
      align-items: center;
      text-decoration: none;
      transition: transform var(--transition-fast), opacity var(--transition-fast);
    }

    .brand-link:hover {
      transform: translateY(-2px);
      opacity: 0.9;
    }

    .brand-logo {
      height: 48px;
      width: auto;
    }

    .hero-title {
      text-align: center;
    }

    .hero-title h1 {
      font-size: 28px;
      font-weight: 900;
      color: var(--ax-primary);
      letter-spacing: -0.02em;
      margin-bottom: 4px;
    }

    .hero-subtitle {
      font-size: 14px;
      color: var(--text-secondary);
      font-weight: 500;
    }

    .hero-actions {
      display: flex;
      align-items: center;
      gap: 12px;
    }

    .theme-toggle {
      width: 40px;
      height: 40px;
      min-width: 40px;
      min-height: 40px;
      border-radius: 10px;
      border: 1px solid var(--border-color);
      background: var(--bg-secondary);
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all var(--transition-fast);
      font-size: 18px;
      -webkit-tap-highlight-color: transparent;
    }

    .theme-toggle:hover {
      background: var(--bg-tertiary);
      transform: scale(1.05);
    }

    /* Container */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 24px;
    }

    /* Card */
    .card {
      background: var(--bg-primary);
      border: 1px solid var(--border-color);
      border-radius: 20px;
      box-shadow: var(--ax-shadow);
      margin-bottom: 24px;
      transition: all var(--transition-normal);
    }

    .card:hover {
      box-shadow: var(--ax-shadow-lg);
    }

    .card-header {
      padding: 24px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
      flex-wrap: wrap;
      gap: 12px;
    }

    .card-title {
      font-size: 20px;
      font-weight: 800;
      color: var(--text-primary);
    }

    .card-body {
      padding: 24px;
    }

    /* Intro Section */
    .intro-section {
      background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
      padding: 28px;
      border-radius: 16px;
      border: 1px solid var(--border-color);
      margin-bottom: 24px;
    }

    .intro-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 16px;
    }

    .intro-title {
      font-size: 18px;
      font-weight: 800;
      color: var(--text-primary);
    }

    .intro-text {
      font-size: 14px;
      line-height: 1.7;
      color: var(--text-secondary);
    }

    .btn-info {
      background: var(--ax-primary);
      color: white;
      border: none;
      padding: 8px 16px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 700;
      cursor: pointer;
      transition: all var(--transition-fast);
      white-space: nowrap;
    }

    .btn-info:hover {
      background: var(--ax-primary-light);
      transform: translateY(-1px);
    }

    /* Modal */
    .modal {
      display: none;
      position: fixed;
      z-index: 2000;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      background-color: rgba(0, 0, 0, 0.7);
      backdrop-filter: blur(4px);
      animation: fadeIn 0.3s ease;
    }

    .modal.active {
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-content {
      background: var(--bg-primary);
      border-radius: 20px;
      max-width: 800px;
      width: 90%;
      max-height: 80vh;
      overflow-y: auto;
      box-shadow: var(--ax-shadow-lg);
      animation: slideUp 0.3s ease;
    }

    .modal-header {
      padding: 24px;
      border-bottom: 1px solid var(--border-color);
      display: flex;
      justify-content: space-between;
      align-items: center;
      position: sticky;
      top: 0;
      background: var(--bg-primary);
      z-index: 10;
    }

    .modal-title {
      font-size: 20px;
      font-weight: 800;
      color: var(--text-primary);
    }

    .modal-close {
      width: 32px;
      height: 32px;
      border-radius: 8px;
      border: none;
      background: var(--bg-tertiary);
      color: var(--text-primary);
      font-size: 20px;
      cursor: pointer;
      transition: all var(--transition-fast);
    }

    .modal-close:hover {
      background: var(--border-color);
      transform: rotate(90deg);
    }

    .modal-body {
      padding: 24px;
    }

    .modal-body p {
      font-size: 14px;
      line-height: 1.8;
      color: var(--text-secondary);
      margin-bottom: 16px;
    }

    .modal-body strong {
      color: var(--text-primary);
      font-weight: 700;
    }

    .modal-formula {
      background: var(--bg-secondary);
      border-left: 4px solid var(--ax-primary);
      padding: 16px;
      margin: 16px 0;
      border-radius: 8px;
      font-family: 'Courier New', monospace;
      font-size: 13px;
      color: var(--text-primary);
    }

    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from {
        transform: translateY(30px);
        opacity: 0;
      }
      to {
        transform: translateY(0);
        opacity: 1;
      }
    }

    /* Input Section (Indexador Style) */
    .indexador-section {
      background: linear-gradient(135deg, var(--ax-primary) 0%, var(--ax-primary-dark) 100%);
      padding: 28px;
      border-radius: 16px;
      color: white;
      margin-bottom: 24px;
    }

    .indexador-title {
      font-size: 18px;
      font-weight: 800;
      margin-bottom: 8px;
    }

    .indexador-subtitle {
      font-size: 13px;
      opacity: 0.9;
      margin-bottom: 20px;
    }

    .indexador-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 16px;
    }

    .indexador-field {
      background: rgba(255, 255, 255, 0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255, 255, 255, 0.2);
      border-radius: 12px;
      padding: 16px;
    }

    .indexador-label {
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 8px;
      opacity: 0.9;
    }

    .indexador-hint {
      font-size: 11px;
      opacity: 0.8;
      margin-top: 6px;
      line-height: 1.4;
    }

    .indexador-input-wrapper {
      display: flex;
      align-items: stretch;
    }

    .indexador-prefix {
      background: rgba(255, 255, 255, 0.2);
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-right: none;
      padding: 0 14px;
      display: flex;
      align-items: center;
      border-radius: 10px 0 0 10px;
      font-weight: 700;
      font-size: 15px;
    }

    .indexador-input {
      flex: 1;
      padding: 12px 14px;
      border: 2px solid rgba(255, 255, 255, 0.3);
      border-left: none;
      border-radius: 0 10px 10px 0;
      font-size: 16px;
      font-weight: 700;
      background: rgba(255, 255, 255, 0.95);
      color: var(--ax-primary-dark);
      transition: all var(--transition-fast);
      font-family: inherit;
    }

    .indexador-input:focus {
      outline: none;
      border-color: rgba(255, 255, 255, 0.6);
      background: white;
      box-shadow: 0 0 0 4px rgba(255, 255, 255, 0.2);
    }

    /* Period Section */
    .period-section {
      background: linear-gradient(135deg, #f1f5f9 0%, #e2e8f0 100%);
      padding: 28px;
      border-radius: 0;
    }

    .period-title {
      font-size: 18px;
      font-weight: 800;
      color: var(--text-primary);
      margin-bottom: 4px;
    }

    .period-subtitle {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 20px;
    }

    .period-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
    }

    .period-field {
      background: rgba(255, 255, 255, 0.9);
      border: 1px solid rgba(25, 99, 150, 0.2);
      border-radius: 12px;
      padding: 16px;
    }

    .period-field.highlight {
      background: rgba(255, 255, 255, 0.95);
      border: 2px solid var(--ax-primary);
    }

    .period-label {
      font-size: 12px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.05em;
      margin-bottom: 8px;
      color: var(--text-primary);
    }

    .period-select {
      width: 100%;
      padding: 12px 36px 12px 14px;
      border: 2px solid var(--border-color);
      border-radius: 10px;
      font-size: 14px;
      font-weight: 500;
      color: var(--text-primary);
      background: var(--bg-primary);
      cursor: pointer;
      appearance: none;
      background-image: url('data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'12\' height=\'12\' viewBox=\'0 0 12 12\'%3E%3Cpath fill=\'%23475569\' d=\'M6 9L1 4h10z\'/%3E%3C/svg%3E');
      background-repeat: no-repeat;
      background-position: right 12px center;
      transition: all var(--transition-fast);
    }

    .period-select:focus {
      outline: none;
      border-color: var(--ax-primary);
    }

    .period-value {
      font-size: 32px;
      font-weight: 900;
      color: var(--ax-primary);
      text-align: center;
      padding: 8px 0;
    }

    /* Stats Grid */
    .stats-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 16px;
      margin-bottom: 20px;
    }

    .stat-card {
      background: linear-gradient(135deg, var(--bg-tertiary) 0%, var(--bg-secondary) 100%);
      padding: 20px;
      border-radius: 12px;
      border-left: 4px solid var(--ax-primary);
    }

    .stat-card.max {
      border-left-color: var(--ax-warn-light);
    }

    .stat-card.min {
      border-left-color: var(--ax-ok-light);
    }

    .stat-label {
      font-size: 12px;
      font-weight: 600;
      color: var(--text-tertiary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-bottom: 8px;
    }

    .stat-value {
      font-size: 24px;
      font-weight: 900;
      color: var(--ax-primary);
    }

    .stat-card.max .stat-value {
      color: var(--ax-warn-light);
    }

    .stat-card.min .stat-value {
      color: var(--ax-ok-light);
    }

    /* Chart */
    .chart-container {
      position: relative;
      height: 400px;
      margin: 20px 0;
    }

    /* Table */
    .table-container {
      overflow-x: auto;
      border-radius: 8px;
      border: 1px solid var(--border-color);
    }

    table {
      width: 100%;
      border-collapse: collapse;
      font-size: 14px;
    }

    thead {
      background: linear-gradient(135deg, var(--ax-primary) 0%, var(--ax-primary-dark) 100%);
      color: white;
    }

    th {
      padding: 12px;
      text-align: left;
      font-weight: 700;
      font-size: 11px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    td {
      padding: 12px;
      border-bottom: 1px solid var(--border-color);
    }

    tbody tr:hover {
      background: var(--bg-tertiary);
    }

    .numeric {
      text-align: right;
      font-variant-numeric: tabular-nums;
    }

    .highlight-max {
      background: rgba(239, 68, 68, 0.1);
      font-weight: 600;
      color: var(--ax-warn-light);
    }

    .highlight-min {
      background: rgba(16, 185, 129, 0.1);
      font-weight: 600;
      color: var(--ax-ok-light);
    }

    /* Tabs */
    .tabs {
      display: flex;
      border-bottom: 2px solid var(--border-color);
      padding: 0 24px;
    }

    .tab {
      padding: 16px 24px;
      background: none;
      border: none;
      font-size: 14px;
      font-weight: 700;
      color: var(--text-tertiary);
      cursor: pointer;
      position: relative;
      transition: all var(--transition-fast);
    }

    .tab:hover {
      color: var(--ax-primary);
    }

    .tab.active {
      color: var(--ax-primary);
    }

    .tab.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--ax-primary);
      border-radius: 3px 3px 0 0;
    }

    .tab-content {
      display: none;
    }

    .tab-content.active {
      display: block;
    }

    /* Buttons */
    .btn-primary {
      background: var(--ax-primary);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 10px;
      font-size: 14px;
      font-weight: 700;
      cursor: pointer;
      transition: all var(--transition-fast);
      display: inline-flex;
      align-items: center;
      gap: 8px;
    }

    .btn-primary:hover {
      background: var(--ax-primary-light);
      transform: translateY(-1px);
    }

    /* Footer */
    .footer {
      margin-top: 40px;
      padding: 25px 15px;
      background-color: #f8f5f0;
      text-align: center;
      font-family: Verdana, sans-serif;
      border-top: 2px solid #006b68;
    }

    .footer-logo {
      width: 140px;
      margin: 0 auto 10px auto;
      display: block;
    }

    .footer-title {
      font-size: 15px;
      font-weight: bold;
      color: #333;
      margin: 10px 0 18px;
    }

    .footer-links,
    .footer-social {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 8px;
      font-size: 14px;
      margin-bottom: 10px;
    }

    .footer-links a,
    .footer-social a {
      color: #004E4C;
      text-decoration: none;
      position: relative;
      padding: 0 4px;
    }

    .footer-links a:hover,
    .footer-social a:hover {
      color: #002c2a;
      text-decoration: underline;
    }

    .footer .separator {
      color: #bbb;
      margin: 0 4px;
    }

    .footer-copyright {
      margin-top: 18px;
      font-size: 11px;
      color: #999;
    }

    /* Hidden */
    #results {
      display: none;
    }

    #results.active {
      display: block;
    }

    /* Responsive */
    @media (max-width: 1024px) {
      .hero-inner {
        grid-template-columns: 1fr;
        gap: 16px;
        text-align: center;
      }

      .brand-container,
      .hero-actions {
        justify-content: center;
      }
    }

    @media (max-width: 768px) {
      .hero-title h1 {
        font-size: 22px;
      }

      .container {
        padding: 16px;
      }

      .indexador-grid,
      .period-grid {
        grid-template-columns: 1fr;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .theme-toggle {
        width: 44px;
        height: 44px;
        min-width: 44px;
        min-height: 44px;
      }

      .tabs {
        padding: 0 12px;
      }

      .tab {
        padding: 12px 16px;
        font-size: 12px;
      }

      .footer {
        padding: 20px 12px;
      }

      .footer-logo {
        width: 120px;
      }

      .footer-title {
        font-size: 13px;
      }

      .footer-links,
      .footer-social {
        font-size: 12px;
      }

      .footer .separator {
        display: none;
      }

      .footer-links,
      .footer-social {
        flex-direction: column;
        gap: 4px;
      }
    }

    *:focus-visible {
      outline: 3px solid var(--ax-primary);
      outline-offset: 2px;
    }
  </style>
</head>
<body>
  <!-- Modal Informa√ß√µes -->
  <div class="modal" id="infoModal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 class="modal-title">Fundamenta√ß√£o Metodol√≥gica Completa</h3>
        <button class="modal-close" id="closeModal">&times;</button>
      </div>
      <div class="modal-body">
        <p>
          Os plant√µes m√©dicos apresentam <strong>variabilidade or√ßament√°ria intr√≠nseca</strong> ao longo do ano devido √† distribui√ß√£o n√£o uniforme de dias √∫teis, finais de semana e feriados nacionais em cada m√™s. Esta variabilidade decorre da aplica√ß√£o de <strong>valores diferenciados por turno</strong> conforme o per√≠odo de atendimento: turnos especiais (noturno, finais de semana e feriados) recebem acr√©scimo de 30% em rela√ß√£o aos turnos tradicionais (diurnos em dias √∫teis).
        </p>
        <p>
          A <strong>vis√£o preditiva or√ßament√°ria</strong> busca o mais alto n√≠vel de precis√£o na estimativa de custos mensais, considerando a composi√ß√£o exata de cada per√≠odo e permitindo a identifica√ß√£o de <strong>desvios estatisticamente significativos</strong> em rela√ß√£o ao or√ßamento base. O modelo estabelece intervalos de confian√ßa e limites de alerta para varia√ß√µes que excedam os par√¢metros esperados, possibilitando <strong>controle or√ßament√°rio proativo</strong> e ajustes estrat√©gicos tempestivos.
        </p>
        <div class="modal-formula">
          Custo Mensal (C‚Çò) = T‚Çô √ó V‚Çô + T‚Çë √ó V‚Çë<br><br>
          Onde:<br>
          ‚Ä¢ T‚Çô = Turnos normais (diurnos em dias √∫teis sem feriado)<br>
          ‚Ä¢ V‚Çô = Valor do turno normal (R$ 21.456,01)<br>
          ‚Ä¢ T‚Çë = Turnos especiais (noturnos + fins de semana + feriados)<br>
          ‚Ä¢ V‚Çë = Valor do turno especial (R$ 27.892,82 = V‚Çô √ó 1.30)
        </div>
        <p>
          Os <strong>valores de refer√™ncia</strong> foram calculados a partir da m√©dia real dos gastos de agosto, setembro e outubro de 2025, garantindo que a proje√ß√£o reflita fielmente os custos praticados pela institui√ß√£o.
        </p>
        <p>
          O modelo considera que cada dia possui <strong>2 turnos de 12 horas</strong> (diurno e noturno). A an√°lise estat√≠stica utiliza <strong>desvio padr√£o</strong> para estabelecer limites de alerta. Varia√ß√µes superiores ao intervalo esperado s√£o sinalizadas como potenciais anomalias que requerem investiga√ß√£o.
        </p>
      </div>
    </div>
  </div>

  <header class="hero" id="hero">
    <div class="hero-inner">
      <div class="brand-container">
        <a class="brand-link" href="https://axcare.com.br" target="_blank" rel="noopener" aria-label="AxiaCare¬Æ">
          <img class="brand-logo" src="https://i.imgur.com/yAUQciP.png" alt="AxiaCare¬Æ">
        </a>
      </div>
      <div class="hero-title">
        <h1>Calculadora Plant√µes M√©dicos</h1>
        <p class="hero-subtitle">An√°lise Preditiva Or√ßament√°ria | 2025 - 2026</p>
      </div>
      <div class="hero-actions">
        <button class="theme-toggle" id="themeToggle" aria-label="Alternar tema">
          <span id="themeIcon">‚òÄÔ∏è</span>
        </button>
        <a class="brand-link" href="https://icds.org.br/hospital-unimed-governador-valadares/" target="_blank" rel="noopener" aria-label="ICDS Hospital">
          <img class="brand-logo" src="https://i.imgur.com/XouXBck.png" alt="ICDS Hospital">
        </a>
      </div>
    </div>
  </header>

  <main class="container">
    <!-- Introdu√ß√£o -->
    <section class="intro-section">
      <div class="intro-header">
        <h2 class="intro-title">Fundamenta√ß√£o do Modelo</h2>
        <button class="btn-info" id="openModal">Mais Informa√ß√µes</button>
      </div>
      <p class="intro-text">
        Esta calculadora projeta a varia√ß√£o mensal do or√ßamento de plant√µes m√©dicos com base na composi√ß√£o do calend√°rio. O modelo considera que turnos especiais (noturnos, finais de semana e feriados) possuem acr√©scimo de 30% sobre o valor dos turnos tradicionais. Os valores de refer√™ncia foram calculados a partir dos gastos reais de agosto a outubro de 2025: <strong>R$ 21.456,01</strong> por turno normal e <strong>R$ 27.892,82</strong> por turno especial. A proje√ß√£o permite identificar meses com maior ou menor custo, facilitando o planejamento or√ßament√°rio e a antecipa√ß√£o de varia√ß√µes.
      </p>
    </section>

    <!-- Valor da Rubrica -->
    <section class="card">
      <div class="card-body" style="padding: 0;">
        <div class="indexador-section">
          <div class="indexador-title">
            Valor da Rubrica Mensal de Plant√µes
          </div>
          <div class="indexador-subtitle">
            Informe o valor total mensal da rubrica de plant√µes m√©dicos. Este valor serve como refer√™ncia para calcular as varia√ß√µes percentuais.
          </div>
          <div class="indexador-grid">
            <div class="indexador-field" style="max-width: 400px;">
              <div class="indexador-label">Valor Mensal de Refer√™ncia</div>
              <div class="indexador-input-wrapper">
                <span class="indexador-prefix">R$</span>
                <input type="text" class="indexador-input" id="valorRubrica" placeholder="1.500.000,00" inputmode="decimal">
              </div>
              <div class="indexador-hint">Ex: 1.500.000,00 (total pago em plant√µes no m√™s)</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Per√≠odo -->
    <section class="card">
      <div class="card-body" style="padding: 0;">
        <div class="period-section">
          <div class="period-title">Per√≠odo de An√°lise</div>
          <div class="period-subtitle">Selecione o intervalo de meses para an√°lise preditiva</div>
          <div class="period-grid">
            <div class="period-field">
              <div class="period-label">M√™s Inicial</div>
              <select class="period-select" id="mesInicial">
                <option value="2025-01">Janeiro/2025</option>
                <option value="2025-02">Fevereiro/2025</option>
                <option value="2025-03">Mar√ßo/2025</option>
                <option value="2025-04">Abril/2025</option>
                <option value="2025-05">Maio/2025</option>
                <option value="2025-06">Junho/2025</option>
                <option value="2025-07">Julho/2025</option>
                <option value="2025-08">Agosto/2025</option>
                <option value="2025-09" selected>Setembro/2025</option>
                <option value="2025-10">Outubro/2025</option>
                <option value="2025-11">Novembro/2025</option>
                <option value="2025-12">Dezembro/2025</option>
                <option value="2026-01">Janeiro/2026</option>
                <option value="2026-02">Fevereiro/2026</option>
                <option value="2026-03">Mar√ßo/2026</option>
                <option value="2026-04">Abril/2026</option>
                <option value="2026-05">Maio/2026</option>
                <option value="2026-06">Junho/2026</option>
                <option value="2026-07">Julho/2026</option>
                <option value="2026-08">Agosto/2026</option>
                <option value="2026-09">Setembro/2026</option>
                <option value="2026-10">Outubro/2026</option>
                <option value="2026-11">Novembro/2026</option>
                <option value="2026-12">Dezembro/2026</option>
              </select>
            </div>

            <div class="period-field">
              <div class="period-label">M√™s Final</div>
              <select class="period-select" id="mesFinal">
                <option value="2025-01">Janeiro/2025</option>
                <option value="2025-02">Fevereiro/2025</option>
                <option value="2025-03">Mar√ßo/2025</option>
                <option value="2025-04">Abril/2025</option>
                <option value="2025-05">Maio/2025</option>
                <option value="2025-06">Junho/2025</option>
                <option value="2025-07">Julho/2025</option>
                <option value="2025-08">Agosto/2025</option>
                <option value="2025-09">Setembro/2025</option>
                <option value="2025-10">Outubro/2025</option>
                <option value="2025-11">Novembro/2025</option>
                <option value="2025-12">Dezembro/2025</option>
                <option value="2026-01">Janeiro/2026</option>
                <option value="2026-02">Fevereiro/2026</option>
                <option value="2026-03">Mar√ßo/2026</option>
                <option value="2026-04">Abril/2026</option>
                <option value="2026-05">Maio/2026</option>
                <option value="2026-06">Junho/2026</option>
                <option value="2026-07">Julho/2026</option>
                <option value="2026-08">Agosto/2026</option>
                <option value="2026-09">Setembro/2026</option>
                <option value="2026-10">Outubro/2026</option>
                <option value="2026-11">Novembro/2026</option>
                <option value="2026-12" selected>Dezembro/2026</option>
              </select>
            </div>

            <div class="period-field highlight">
              <div class="period-label">Total de Meses</div>
              <div class="period-value" id="totalMeses">16</div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Bot√£o Calcular -->
    <div style="text-align: center; margin-bottom: 24px;">
      <button class="btn-primary" onclick="calcular()" style="padding: 16px 48px; font-size: 16px;">
        Calcular Proje√ß√£o
      </button>
    </div>

    <!-- Resultados -->
    <div id="results">
      <!-- Estat√≠sticas -->
      <section class="card">
        <div class="card-header">
          <h2 class="card-title">An√°lise Estat√≠stica de Variabilidade</h2>
          <button class="btn-primary" id="btnExportPDF" style="font-size: 13px; padding: 10px 20px;">
            Exportar PDF
          </button>
        </div>
        <div class="card-body">
          <div class="stats-grid">
            <div class="stat-card max">
              <div class="stat-label">Valor M√°ximo</div>
              <div class="stat-value" id="statMax">-</div>
              <div style="font-size: 11px; color: var(--text-tertiary); margin-top: 4px;" id="statMaxMes"></div>
            </div>
            <div class="stat-card min">
              <div class="stat-label">Valor M√≠nimo</div>
              <div class="stat-value" id="statMin">-</div>
              <div style="font-size: 11px; color: var(--text-tertiary); margin-top: 4px;" id="statMinMes"></div>
            </div>
            <div class="stat-card">
              <div class="stat-label">M√©dia do Per√≠odo</div>
              <div class="stat-value" id="statMedia">-</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Amplitude (M√°x - M√≠n)</div>
              <div class="stat-value" id="statVariacao">-</div>
            </div>
          </div>
        </div>
      </section>

      <!-- Tabela e Gr√°fico -->
      <section class="card">
        <div class="tabs" role="tablist">
          <button class="tab active" role="tab" data-tab="mensal" aria-selected="true">
            S√©rie Mensal Detalhada
          </button>
          <button class="tab" role="tab" data-tab="grafico" aria-selected="false">
            Visualiza√ß√£o Gr√°fica
          </button>
        </div>

        <div class="tab-content active" id="tabMensal">
          <div class="card-body">
            <div class="table-container">
              <table>
                <thead>
                  <tr>
                    <th>M√™s</th>
                    <th class="numeric">S√°b</th>
                    <th class="numeric">Dom</th>
                    <th class="numeric">Feriados</th>
                    <th class="numeric">Dias √öteis</th>
                    <th class="numeric">T. Normais</th>
                    <th class="numeric">T. Especiais</th>
                    <th class="numeric">Valor Projetado</th>
                    <th class="numeric">Varia√ß√£o</th>
                  </tr>
                </thead>
                <tbody id="tableBody">
                </tbody>
              </table>
            </div>
          </div>
        </div>

        <div class="tab-content" id="tabGrafico">
          <div class="card-body">
            <div class="chart-container">
              <canvas id="projectionChart"></canvas>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <footer class="footer">
    <img class="footer-logo" src="https://i.imgur.com/yAUQciP.png" alt="AxiaCare¬Æ Logo">
    <div class="footer-title">AxView‚Ñ¢ | WebApps - Gest√£o e Consultoria em Sa√∫de</div>
    <div class="footer-links">
      <a href="https://linktr.ee/gui.thome">Conhe√ßa nossas solu√ß√µes.</a>
      <span class="separator">|</span>
      <a href="https://www.axcare.com.br">axcare.com.br</a>
      <span class="separator">|</span>
      <a href="https://www.medvalor.med.br">medvalor.med.br</a>
    </div>
    <div class="footer-social">
      <a href="https://guithome.com.br">guithome.com.br</a>
      <span class="separator">|</span>
      <a href="https://linkedin.com/in/guithome">LinkedIn</a>
      <span class="separator">|</span>
      <a href="https://www.instagram.com/gui.thome/">Instagram</a>
    </div>
    <div class="footer-copyright">
      Copyright ¬© 2025 AxiaCare¬Æ | Todos os direitos reservados | Uma empresa do Grupo CSV
    </div>
  </footer>

  <script>
    // Constantes calculadas (m√©dia de ago-out 2025)
    const VALOR_TURNO_NORMAL = 21456.01;
    const VALOR_TURNO_ESPECIAL = 27892.82;

    // Feriados nacionais
    const FERIADOS = {
      2025: [
        '2025-01-01', // Ano Novo
        '2025-04-18', // Sexta-feira Santa
        '2025-04-21', // Tiradentes
        '2025-05-01', // Trabalho
        '2025-09-07', // Independ√™ncia
        '2025-10-12', // N. Sra. Aparecida
        '2025-11-02', // Finados
        '2025-11-15', // Proclama√ß√£o
        '2025-11-20', // Consci√™ncia Negra
        '2025-12-25'  // Natal
      ],
      2026: [
        '2026-01-01', // Ano Novo
        '2026-04-03', // Sexta-feira Santa
        '2026-04-21', // Tiradentes
        '2026-05-01', // Trabalho
        '2026-09-07', // Independ√™ncia
        '2026-10-12', // N. Sra. Aparecida
        '2026-11-02', // Finados
        '2026-11-15', // Proclama√ß√£o
        '2026-11-20', // Consci√™ncia Negra
        '2026-12-25'  // Natal
      ]
    };

    let chart = null;
    let resultadosGlobais = [];

    // Formatadores
    const BRL = new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' });
    const formatBRL = v => BRL.format(v);

    // Formata√ß√£o de moeda no input
    function formatarMoeda(input) {
      let valor = input.value.replace(/\D/g, '');
      if (valor === '') {
        input.value = '';
        return;
      }
      valor = (parseInt(valor) / 100).toFixed(2);
      input.value = parseFloat(valor).toLocaleString('pt-BR', {
        minimumFractionDigits: 2,
        maximumFractionDigits: 2
      });
    }

    function parseMoeda(valor) {
      if (!valor) return 0;
      return parseFloat(valor.replace(/\./g, '').replace(',', '.')) || 0;
    }

    // Inicializa√ß√£o
    document.addEventListener('DOMContentLoaded', function() {
      const valorInput = document.getElementById('valorRubrica');
      valorInput.addEventListener('input', function() {
        formatarMoeda(this);
      });

      // Total de meses
      updateTotalMeses();
      document.getElementById('mesInicial').addEventListener('change', updateTotalMeses);
      document.getElementById('mesFinal').addEventListener('change', updateTotalMeses);

      // Tabs
      document.querySelectorAll('.tab').forEach(tab => {
        tab.addEventListener('click', function() {
          document.querySelectorAll('.tab').forEach(t => {
            t.classList.remove('active');
            t.setAttribute('aria-selected', 'false');
          });
          document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));

          this.classList.add('active');
          this.setAttribute('aria-selected', 'true');

          const tabId = this.dataset.tab === 'mensal' ? 'tabMensal' : 'tabGrafico';
          document.getElementById(tabId).classList.add('active');
        });
      });

      // Theme toggle
      const themeToggle = document.getElementById('themeToggle');
      const themeIcon = document.getElementById('themeIcon');

      if (localStorage.getItem('theme') === 'dark') {
        document.documentElement.setAttribute('data-theme', 'dark');
        themeIcon.textContent = 'üåô';
      }

      themeToggle.addEventListener('click', function() {
        const isDark = document.documentElement.getAttribute('data-theme') === 'dark';
        if (isDark) {
          document.documentElement.removeAttribute('data-theme');
          themeIcon.textContent = '‚òÄÔ∏è';
          localStorage.removeItem('theme');
        } else {
          document.documentElement.setAttribute('data-theme', 'dark');
          themeIcon.textContent = 'üåô';
          localStorage.setItem('theme', 'dark');
        }
        if (chart) {
          updateChartColors();
        }
      });

      // Modal
      const modal = document.getElementById('infoModal');
      document.getElementById('openModal').addEventListener('click', () => modal.classList.add('active'));
      document.getElementById('closeModal').addEventListener('click', () => modal.classList.remove('active'));
      modal.addEventListener('click', (e) => {
        if (e.target === modal) modal.classList.remove('active');
      });

      // Hero scroll
      const hero = document.getElementById('hero');
      window.addEventListener('scroll', () => {
        hero.classList.toggle('scrolled', window.scrollY > 10);
      });

      // Export PDF
      document.getElementById('btnExportPDF').addEventListener('click', exportPDF);
    });

    function updateTotalMeses() {
      const mesInicial = document.getElementById('mesInicial').value;
      const mesFinal = document.getElementById('mesFinal').value;

      const [anoIni, mesIni] = mesInicial.split('-').map(Number);
      const [anoFim, mesFim] = mesFinal.split('-').map(Number);

      const total = (anoFim - anoIni) * 12 + (mesFim - mesIni) + 1;
      document.getElementById('totalMeses').textContent = total > 0 ? total : 0;
    }

    function getDaysInMonth(year, month) {
      return new Date(year, month + 1, 0).getDate();
    }

    function analisarMes(year, month) {
      const totalDias = getDaysInMonth(year, month);
      let sabados = 0;
      let domingos = 0;
      let feriadosUteis = 0;
      let diasUteis = 0;

      for (let dia = 1; dia <= totalDias; dia++) {
        const data = new Date(year, month, dia);
        const diaSemana = data.getDay();
        const dataStr = `${year}-${String(month + 1).padStart(2, '0')}-${String(dia).padStart(2, '0')}`;

        const isSabado = diaSemana === 6;
        const isDomingo = diaSemana === 0;
        const isFeriado = FERIADOS[year]?.includes(dataStr);

        if (isSabado) sabados++;
        if (isDomingo) domingos++;

        if (!isSabado && !isDomingo) {
          diasUteis++;
          if (isFeriado) feriadosUteis++;
        }
      }

      // Turnos normais = turnos diurnos em dias √∫teis SEM feriado
      const turnosNormais = diasUteis - feriadosUteis;

      // Turnos especiais = turnos noturnos + fins de semana + feriados
      const turnosEspeciais = diasUteis + (sabados + domingos) * 2 + feriadosUteis;

      return {
        sabados,
        domingos,
        feriadosUteis,
        diasUteis,
        turnosNormais,
        turnosEspeciais
      };
    }

    function calcular() {
      const valorRubrica = parseMoeda(document.getElementById('valorRubrica').value);
      const mesInicial = document.getElementById('mesInicial').value;
      const mesFinal = document.getElementById('mesFinal').value;

      if (!valorRubrica || valorRubrica <= 0) {
        alert('Por favor, informe o valor da rubrica mensal');
        return;
      }

      if (mesInicial > mesFinal) {
        alert('O m√™s inicial deve ser anterior ao m√™s final');
        return;
      }

      const [anoIni, mesIni] = mesInicial.split('-').map(Number);
      const [anoFim, mesFim] = mesFinal.split('-').map(Number);

      const resultados = [];
      let valores = [];

      let ano = anoIni;
      let mes = mesIni - 1;

      while (ano < anoFim || (ano === anoFim && mes <= mesFim - 1)) {
        const analise = analisarMes(ano, mes);
        const valorProjetado = analise.turnosNormais * VALOR_TURNO_NORMAL +
                               analise.turnosEspeciais * VALOR_TURNO_ESPECIAL;
        const variacao = ((valorProjetado / valorRubrica) - 1) * 100;

        resultados.push({
          ano,
          mes,
          mesNome: new Date(ano, mes).toLocaleDateString('pt-BR', { month: 'long', year: 'numeric' }),
          ...analise,
          valorProjetado,
          variacao
        });

        valores.push(valorProjetado);

        mes++;
        if (mes > 11) {
          mes = 0;
          ano++;
        }
      }

      resultadosGlobais = resultados;

      // Estat√≠sticas
      const max = Math.max(...valores);
      const min = Math.min(...valores);
      const media = valores.reduce((a, b) => a + b, 0) / valores.length;
      const amplitude = max - min;

      const mesMax = resultados.find(r => r.valorProjetado === max);
      const mesMin = resultados.find(r => r.valorProjetado === min);

      document.getElementById('statMax').textContent = formatBRL(max);
      document.getElementById('statMaxMes').textContent = mesMax ? mesMax.mesNome : '';
      document.getElementById('statMin').textContent = formatBRL(min);
      document.getElementById('statMinMes').textContent = mesMin ? mesMin.mesNome : '';
      document.getElementById('statMedia').textContent = formatBRL(media);
      document.getElementById('statVariacao').textContent = formatBRL(amplitude);

      // Tabela
      const tbody = document.getElementById('tableBody');
      tbody.innerHTML = '';

      resultados.forEach(r => {
        const tr = document.createElement('tr');
        const isMax = r.valorProjetado === max;
        const isMin = r.valorProjetado === min;
        const className = isMax ? 'highlight-max' : isMin ? 'highlight-min' : '';

        tr.innerHTML = `
          <td>${r.mesNome}</td>
          <td class="numeric">${r.sabados}</td>
          <td class="numeric">${r.domingos}</td>
          <td class="numeric">${r.feriadosUteis}</td>
          <td class="numeric">${r.diasUteis}</td>
          <td class="numeric">${r.turnosNormais}</td>
          <td class="numeric">${r.turnosEspeciais}</td>
          <td class="numeric ${className}">${formatBRL(r.valorProjetado)}</td>
          <td class="numeric ${r.variacao > 0 ? 'highlight-max' : 'highlight-min'}">${r.variacao > 0 ? '+' : ''}${r.variacao.toFixed(2)}%</td>
        `;
        tbody.appendChild(tr);
      });

      // Gr√°fico
      renderChart(resultados, valores, valorRubrica, media);

      document.getElementById('results').classList.add('active');
      document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
    }

    function renderChart(resultados, valores, valorRubrica, media) {
      const ctx = document.getElementById('projectionChart').getContext('2d');

      if (chart) chart.destroy();

      const isDark = document.documentElement.getAttribute('data-theme') === 'dark';

      chart = new Chart(ctx, {
        type: 'line',
        data: {
          labels: resultados.map(r => r.mesNome),
          datasets: [
            {
              label: 'Valor Projetado',
              data: valores,
              borderColor: isDark ? '#3b9dd8' : '#196396',
              backgroundColor: isDark ? 'rgba(59, 157, 216, 0.1)' : 'rgba(25, 99, 150, 0.1)',
              borderWidth: 3,
              fill: true,
              tension: 0.4
            },
            {
              label: 'Valor Refer√™ncia',
              data: Array(valores.length).fill(valorRubrica),
              borderColor: '#10b981',
              borderWidth: 2,
              borderDash: [5, 5],
              fill: false
            },
            {
              label: 'M√©dia do Per√≠odo',
              data: Array(valores.length).fill(media),
              borderColor: '#ff8f00',
              borderWidth: 2,
              borderDash: [10, 5],
              fill: false
            }
          ]
        },
        options: {
          responsive: true,
          maintainAspectRatio: false,
          plugins: {
            legend: {
              position: 'top',
              labels: {
                font: {
                  family: 'Inter',
                  size: 12,
                  weight: 600
                },
                color: isDark ? '#f1f5f9' : '#0f172a'
              }
            },
            tooltip: {
              callbacks: {
                label: function(context) {
                  return context.dataset.label + ': ' + formatBRL(context.parsed.y);
                }
              }
            }
          },
          scales: {
            y: {
              beginAtZero: false,
              ticks: {
                callback: function(value) {
                  return (value / 1000000).toFixed(2) + 'M';
                },
                color: isDark ? '#94a3b8' : '#64748b'
              },
              grid: {
                color: isDark ? '#334155' : '#e2e8f0'
              }
            },
            x: {
              ticks: {
                color: isDark ? '#94a3b8' : '#64748b'
              },
              grid: {
                color: isDark ? '#334155' : '#e2e8f0'
              }
            }
          }
        }
      });
    }

    function updateChartColors() {
      if (!chart || resultadosGlobais.length === 0) return;
      const valorRubrica = parseMoeda(document.getElementById('valorRubrica').value);
      const valores = resultadosGlobais.map(r => r.valorProjetado);
      const media = valores.reduce((a, b) => a + b, 0) / valores.length;
      renderChart(resultadosGlobais, valores, valorRubrica, media);
    }

    function exportPDF() {
      const { jsPDF } = window.jspdf;
      const doc = new jsPDF();

      doc.setFontSize(18);
      doc.setTextColor(25, 99, 150);
      doc.text('Calculadora de Varia√ß√£o Or√ßament√°ria - Plant√µes', 14, 22);

      doc.setFontSize(10);
      doc.setTextColor(100);
      doc.text('AxiaCare¬Æ | An√°lise Preditiva Or√ßament√°ria', 14, 30);
      doc.text(new Date().toLocaleDateString('pt-BR'), 14, 36);

      const valorRubrica = parseMoeda(document.getElementById('valorRubrica').value);
      const valores = resultadosGlobais.map(r => r.valorProjetado);
      const max = Math.max(...valores);
      const min = Math.min(...valores);
      const media = valores.reduce((a, b) => a + b, 0) / valores.length;

      doc.setFontSize(12);
      doc.setTextColor(0);
      doc.text('Estat√≠sticas do Per√≠odo', 14, 50);

      doc.setFontSize(10);
      doc.text(`Valor de Refer√™ncia: ${formatBRL(valorRubrica)}`, 14, 58);
      doc.text(`Valor M√°ximo: ${formatBRL(max)}`, 14, 64);
      doc.text(`Valor M√≠nimo: ${formatBRL(min)}`, 14, 70);
      doc.text(`M√©dia: ${formatBRL(media)}`, 14, 76);
      doc.text(`Amplitude: ${formatBRL(max - min)}`, 14, 82);

      const tableData = resultadosGlobais.map(r => [
        r.mesNome,
        r.sabados,
        r.domingos,
        r.feriadosUteis,
        r.turnosNormais,
        r.turnosEspeciais,
        formatBRL(r.valorProjetado),
        `${r.variacao > 0 ? '+' : ''}${r.variacao.toFixed(2)}%`
      ]);

      doc.autoTable({
        head: [['M√™s', 'S√°b', 'Dom', 'Fer', 'T.Norm', 'T.Esp', 'Valor', 'Var.']],
        body: tableData,
        startY: 92,
        theme: 'striped',
        headStyles: { fillColor: [25, 99, 150] },
        styles: { fontSize: 8 }
      });

      doc.save('projecao-plantoes.pdf');
    }
  </script>
</body>
</html>
